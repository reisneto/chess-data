{"version":3,"sources":["services/player.js","components/Search.js","actions/player.js","components/Loading.js","components/Idle.js","components/Player.js","reducers/initialState.js","reducers/index.js","reducers/player.js","store/index.js","App.js","theme.js","index.js"],"names":["format","playerData","avatar","url","name","username","location","getPlayer","a","fetch","playerRawData","json","useStyles","makeStyles","theme","root","display","input","marginLeft","spacing","flex","iconButton","padding","Search","classes","useState","search","setSearch","dispatch","useDispatch","onSubmit","event","preventDefault","type","playerService","player","Object","keys","length","Paper","component","className","InputBase","placeholder","inputProps","value","onChange","e","target","data-testid","IconButton","aria-label","onClick","loading","justifyContent","marginTop","Loading","Box","CircularProgress","message","content","alignItems","fontSize","media","height","paddingTop","Idle","Card","CardMedia","image","process","title","CardContent","Typography","Player","useSelector","state","data","status","IDLE","LOADING","NOT_FOUND","ERROR","CardHeader","Avatar","alt","src","subheader","variant","CardActions","Link","rel","href","initialState","error","combineReducers","action","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunk","store","createStore","rootReducer","applyMiddleware","App","Container","maxWidth","my","createMuiTheme","pallete","primary","main","secondary","red","A400","background","default","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.90263712.chunk.js","sourcesContent":["function format(playerData) {\n  return {\n    avatar: playerData.avatar,\n    url: playerData.url,\n    name: playerData.name,\n    username: playerData.username,\n    location: playerData.location,\n  };\n}\n\nasync function getPlayer(username) {\n  const baseURL = \"https://api.chess.com/pub/player\";\n  const playerRawData = await fetch(`${baseURL}/${username}`);\n  const playerData = await playerRawData.json();\n  if (playerData.username)\n    return format(playerData);\n\n  return {};\n}\n\nexport { getPlayer };\n","import React, { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Paper, InputBase, IconButton } from \"@material-ui/core\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport { useDispatch } from \"react-redux\";\nimport * as actions from \"../actions/player\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n}));\n\nexport default function Search() {\n  const classes = useStyles();\n  const [search, setSearch] = useState(\"\");\n  const dispatch = useDispatch();\n\n  function onSubmit(event) {\n    event.preventDefault();\n    dispatch(actions.searchPlayer(search));\n  }\n\n  return (\n    <Paper component=\"form\" className={classes.root}>\n      <InputBase\n        className={classes.input}\n        placeholder=\"Search a chess player\"\n        inputProps={{ \"aria-label\": \"search chess player\" }}\n        value={search}\n        onChange={(e) => setSearch(e.target.value)}\n        data-testid=\"search-input\"\n      />\n      <IconButton\n        className={classes.iconButton}\n        type=\"submit\"\n        aria-label=\"search\"\n        onClick={(event) => onSubmit(event, search)}\n        data-testid=\"search-submit\"\n      >\n        <SearchIcon />\n      </IconButton>\n    </Paper>\n  );\n}\n","import * as playerService from \"../services/player\";\n\nexport function searchPlayer(username) {\n  return async (dispatch) => {\n    dispatch({ type: \"LOADING_PLAYER\" });\n    try {\n      const player = await playerService.getPlayer(username);\n      if (Object.keys(player).length > 0)\n        dispatch({ type: \"SEARCH_PLAYER\", player });\n      else dispatch({ type: \"NOT_FOUND\" });\n    } catch (error) {\n      dispatch({ type: \"ERROR_PLAYER\" });\n    }\n  };\n}\n","import { makeStyles } from \"@material-ui/core/styles\";\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  loading: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    marginTop: theme.spacing(4),\n  },\n}));\nexport default function Loading() {\n  const classes = useStyles();\n  return (\n    <Box className={classes.loading}>\n      <CircularProgress  />\n    </Box>\n  );\n}\n","import { Card, CardContent, CardMedia, makeStyles, Typography } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  message: {\n    marginTop: theme.spacing(4),    \n  },\n  content: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    \"& p\": {\n      fontSize: 18,\n    }\n  },\n  media: {\n    height: 0,\n    paddingTop: '45.25%', // 16:9\n  },\n}));\n\nexport default function Idle() {\n  const classes = useStyles();\n  return (\n    <Card className={classes.message}>\n      <CardMedia\n        className={classes.media}\n        image={`${process.env.PUBLIC_URL}/static/images/dogtyping.jpg`}\n        title=\"info about how to search\"\n      />\n      <CardContent className={classes.content}>\n        <Typography>\n          Hi, you can type a username and we'll try to find it out\n        </Typography>\n      </CardContent>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport {\n  CardContent,\n  CardHeader,\n  CardActions,\n  Link,\n  Typography,\n  Avatar,\n} from \"@material-ui/core\";\nimport { useSelector } from \"react-redux\";\nimport Loading from \"./Loading\";\nimport Idle from \"./Idle\";\n\nconst useStyles = makeStyles((theme) => ({\n  player: {\n    marginTop: theme.spacing(1),\n  },\n  title: {\n    fontSize: 14,\n  },\n}));\n\nexport default function Player() {\n  const classes = useStyles();\n  const { data: playerData, status } = useSelector((state) => state.player);\n  const feedback = {\n    IDLE: <Idle />,\n    LOADING: <Loading />,\n    NOT_FOUND: <h1>not found</h1>,\n    ERROR: <h1>ops, something bad happened, please try again...</h1>,\n  };\n\n  if (status !== \"FOUND\") return feedback[status];\n\n  return (\n    <Card className={classes.player}>\n      <CardHeader\n        avatar={<Avatar alt=\"user image\" src={playerData.avatar} />}\n        title={playerData.name}\n        subheader={playerData.username}\n      />\n\n      <CardContent>\n        {playerData.location && (\n          <Typography>From {playerData.location}</Typography>\n        )}\n        <Typography variant=\"body2\" component=\"p\">\n          {playerData.status}\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <Link\n          variant=\"body2\"\n          target=\"_blank\"\n          rel=\"noopener\"\n          href={playerData.url}\n        >\n          official page\n        </Link>\n      </CardActions>\n    </Card>\n  );\n}\n","export const initialState = {\n  player: {\n    status: 'IDLE',\n    loading: false,\n    error: false,\n    data: {\n      avatar: '',\n      name: '',\n      username:'',\n      url: '',\n      location: '',\n    }\n  }\n};","import { combineReducers } from 'redux';\nimport player from './player';\n\nexport default combineReducers({\n  player\n});","import { initialState } from \"./initialState\";\n\nexport default function playerReducer(state = initialState.player, action) {\n  switch (action.type) {\n    case \"NOT_FOUND\":\n      return {\n        ...state,\n        status: 'NOT_FOUND'\n      }\n    case \"ERROR_PLAYER\":\n      return {\n        ...state,\n        error: true,\n        status: \"ERROR\",\n      }\n    case \"LOADING_PLAYER\":\n      return {\n        ...state,\n        loading: true,\n        status: \"LOADING\",\n      }\n    case \"SEARCH_PLAYER\":\n      return {\n        ...state,\n        loading: false,\n        error: false,\n        status: \"FOUND\",\n        data: {\n          avatar: action.player.avatar,\n          name: action.player.name,\n          username: action.player.username,\n          url: action.player.url,\n          location: action.player.location,\n        },\n      };\n\n    default:\n      return state;\n  }\n}\n","import { applyMiddleware, compose, createStore } from \"redux\";\nimport thunk from 'redux-thunk'\nimport rootReducer from \"../reducers\";\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n\nconst middlewares = [\n  thunk,\n]\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(\n    applyMiddleware(...middlewares)\n  )\n);\n\nexport default store;\n","import \"./App.css\";\nimport { Container, Box } from \"@material-ui/core\";\nimport Search from \"./components/Search\";\nimport Player from \"./components/Player\";\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\n\nfunction App() {\n  return (\n    <Container maxWidth=\"sm\">\n      <Provider store={store}>\n        <Box my={1}>\n          <Search />\n          <Player />\n        </Box>\n      </Provider>\n    </Container>\n  );\n}\n\nexport default App;\n","import { red } from '@material-ui/core/colors';\nimport { createMuiTheme } from '@material-ui/core/styles';\n\nconst theme = createMuiTheme({\n  pallete: {\n    primary: {\n      main: '#556cd6',\n    },\n    secondary: {\n      main: '#19857b',\n    },\n    error: {\n      main: red.A400,\n    },\n    background: {\n      default: '#eee',\n    }\n  }\n});\n\nexport default theme;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport theme from './theme';\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}